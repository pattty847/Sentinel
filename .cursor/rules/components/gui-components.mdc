---
globs: libs/gui/*/*
alwaysApply: false
---

# GUI Components

## Rendering Stack
- `UnifiedGridRenderer` is the QML-facing façade; it forwards interactions to state controllers and selects render strategies.
- `GridViewState` owns viewport, pan/zoom, and interaction smoothing—keep it authoritative for UI state.
- `render/DataProcessor` aggregates data from core, feeds the `LiquidityTimeSeriesEngine`, and signals the renderer when buffers need regeneration.
- `render/strategies/*Strategy` classes build GPU geometry for specific visualizations; add new modes here without touching the façade.
- `qml/` controls and scenes define layout; keep heavy logic in C++ counterparts.

## Supporting Infrastructure
- `MainWindowGpu` wires the persistent `MarketDataCore` instance to QML; ensure queued connections guard against cross-thread issues.
- `PerformanceMonitor` and diagnostics helpers surface stats to the UI—use them instead of ad-hoc logging for render metrics.

## Expectations
- No business logic in GUI code: treat these files as adapters that consume DTOs from `libs/core`.
- Coordinate changes with matching QML updates so signals, properties, and bindings stay aligned.
- Monitor file size and keep refactors modular; render hot paths must avoid unnecessary allocations on the GUI thread.
